// ============================================
// UTILITY & HELPER STYLES
// ============================================
@use 'sass:math';
@use 'theme' as *;

// ============================================
// GLOBAL RESET & BASE
// ============================================
*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    font-family: var(--font-family-primary);
    font-size: $font-size-base;
    line-height: $line-height-normal;
    color: var(--text-primary);
    background-color: var(--bg-body);
    transition: background-color var(--transition-base), color var(--transition-base);
}

// ============================================
// SCROLLBAR STYLING
// ============================================
::-webkit-scrollbar {
    width: 12px;
    height: 12px;
}

::-webkit-scrollbar-track {
    background: var(--bg-surface);
    border-radius: var(--radius-sm);
}

::-webkit-scrollbar-thumb {
    background: var(--border-medium);
    border-radius: var(--radius-sm);
    border: 2px solid var(--bg-surface);

    &:hover {
        background: var(--border-strong);
    }
}

// Firefox
* {
    scrollbar-width: thin;
    scrollbar-color: var(--border-medium) var(--bg-surface);
}

// ============================================
// TYPOGRAPHY UTILITIES
// ============================================
.text {
    &-xs {
        font-size: $font-size-xs;
    }

    &-sm {
        font-size: $font-size-sm;
    }

    &-base {
        font-size: $font-size-base;
    }

    &-lg {
        font-size: $font-size-lg;
    }

    &-xl {
        font-size: $font-size-xl;
    }

    &-2xl {
        font-size: $font-size-2xl;
    }

    &-3xl {
        font-size: $font-size-3xl;
    }

    &-4xl {
        font-size: $font-size-4xl;
    }

    &-primary {
        color: var(--text-primary);
    }

    &-secondary {
        color: var(--text-secondary);
    }

    &-tertiary {
        color: var(--text-tertiary);
    }

    &-disabled {
        color: var(--text-disabled);
    }

    &-inverse {
        color: var(--text-inverse);
    }

    &-success {
        color: var(--success);
    }

    &-warning {
        color: var(--warning);
    }

    &-danger {
        color: var(--danger);
    }

    &-info {
        color: var(--info);
    }

    &-brand {
        color: var(--primary);
    }

    &-center {
        text-align: center;
    }

    &-left {
        text-align: left;
    }

    &-right {
        text-align: right;
    }

    &-justify {
        text-align: justify;
    }

    &-uppercase {
        text-transform: uppercase;
    }

    &-lowercase {
        text-transform: lowercase;
    }

    &-capitalize {
        text-transform: capitalize;
    }

    &-truncate {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    &-break {
        word-break: break-word;
    }

    &-nowrap {
        white-space: nowrap;
    }
}

// Font weights
.font {
    &-light {
        font-weight: $font-weight-light;
    }

    &-normal {
        font-weight: $font-weight-normal;
    }

    &-medium {
        font-weight: $font-weight-medium;
    }

    &-semibold {
        font-weight: $font-weight-semibold;
    }

    &-bold {
        font-weight: $font-weight-bold;
    }

    &-mono {
        font-family: var(--font-family-mono);
    }
}

// Line heights
.leading {
    &-tight {
        line-height: $line-height-tight;
    }

    &-normal {
        line-height: $line-height-normal;
    }

    &-relaxed {
        line-height: $line-height-relaxed;
    }
}

// ============================================
// SPACING UTILITIES
// ============================================
@each $name, $size in (
    'xs': $spacing-xs,
    'sm': $spacing-sm,
    'md': $spacing-md,
    'lg': $spacing-lg,
    'xl': $spacing-xl,
    '2xl': $spacing-2xl,
    '3xl': $spacing-3xl
) {
    // Margin
    .m-#{$name} {
        margin: $size;
    }
    .mt-#{$name} {
        margin-top: $size;
    }
    .mr-#{$name} {
        margin-right: $size;
    }
    .mb-#{$name} {
        margin-bottom: $size;
    }
    .ml-#{$name} {
        margin-left: $size;
    }
    .mx-#{$name} {
        margin-left: $size;
        margin-right: $size;
    }
    .my-#{$name} {
        margin-top: $size;
        margin-bottom: $size;
    }

    // Padding
    .p-#{$name} {
        padding: $size;
    }
    .pt-#{$name} {
        padding-top: $size;
    }
    .pr-#{$name} {
        padding-right: $size;
    }
    .pb-#{$name} {
        padding-bottom: $size;
    }
    .pl-#{$name} {
        padding-left: $size;
    }
    .px-#{$name} {
        padding-left: $size;
        padding-right: $size;
    }
    .py-#{$name} {
        padding-top: $size;
        padding-bottom: $size;
    }

    // Gap
    .gap-#{$name} {
        gap: $size;
    }
}

// Auto margins
.m-auto {
    margin: auto;
}
.mx-auto {
    margin-left: auto;
    margin-right: auto;
}
.my-auto {
    margin-top: auto;
    margin-bottom: auto;
}

// Zero spacing
.m-0 {
    margin: 0;
}
.p-0 {
    padding: 0;
}

// ============================================
// DISPLAY UTILITIES
// ============================================
.d {
    &-none {
        display: none;
    }

    &-block {
        display: block;
    }

    &-inline {
        display: inline;
    }

    &-inline-block {
        display: inline-block;
    }

    &-flex {
        display: flex;
    }

    &-inline-flex {
        display: inline-flex;
    }

    &-grid {
        display: grid;
    }

    &-inline-grid {
        display: inline-grid;
    }
}

// ============================================
// FLEXBOX UTILITIES
// ============================================
.flex {
    &-row {
        flex-direction: row;
    }

    &-row-reverse {
        flex-direction: row-reverse;
    }

    &-col {
        flex-direction: column;
    }

    &-col-reverse {
        flex-direction: column-reverse;
    }

    &-wrap {
        flex-wrap: wrap;
    }

    &-nowrap {
        flex-wrap: nowrap;
    }

    &-1 {
        flex: 1;
    }

    &-auto {
        flex: 0 0 auto;
    }

    &-grow {
        flex-grow: 1;
    }

    &-shrink {
        flex-shrink: 1;
    }
}

// Justify content
.justify {
    &-start {
        justify-content: flex-start;
    }

    &-end {
        justify-content: flex-end;
    }

    &-center {
        justify-content: center;
    }

    &-between {
        justify-content: space-between;
    }

    &-around {
        justify-content: space-around;
    }

    &-evenly {
        justify-content: space-evenly;
    }
}

// Align items
.items {
    &-start {
        align-items: flex-start;
    }

    &-end {
        align-items: flex-end;
    }

    &-center {
        align-items: center;
    }

    &-baseline {
        align-items: baseline;
    }

    &-stretch {
        align-items: stretch;
    }
}

// Align content
.content {
    &-start {
        align-content: flex-start;
    }

    &-end {
        align-content: flex-end;
    }

    &-center {
        align-content: center;
    }

    &-between {
        align-content: space-between;
    }

    &-around {
        align-content: space-around;
    }

    &-stretch {
        align-content: stretch;
    }
}

// ============================================
// POSITION UTILITIES
// ============================================
.position {
    &-static {
        position: static;
    }

    &-relative {
        position: relative;
    }

    &-absolute {
        position: absolute;
    }

    &-fixed {
        position: fixed;
    }

    &-sticky {
        position: sticky;
    }
}

// ============================================
// WIDTH & HEIGHT UTILITIES
// ============================================
.w {
    &-25 {
        width: 25%;
    }

    &-50 {
        width: 50%;
    }

    &-75 {
        width: 75%;
    }

    &-100 {
        width: 100%;
    }

    &-auto {
        width: auto;
    }

    &-full {
        width: 100%;
    }

    &-screen {
        width: 100vw;
    }
}

.h {
    &-25 {
        height: 25%;
    }

    &-50 {
        height: 50%;
    }

    &-75 {
        height: 75%;
    }

    &-100 {
        height: 100%;
    }

    &-auto {
        height: auto;
    }

    &-full {
        height: 100%;
    }

    &-screen {
        height: 100vh;
    }
}

// ============================================
// BORDER UTILITIES
// ============================================
.border {
    border: 1px solid var(--border-light);

    &-0 {
        border: none;
    }

    &-t {
        border-top: 1px solid var(--border-light);
    }

    &-r {
        border-right: 1px solid var(--border-light);
    }

    &-b {
        border-bottom: 1px solid var(--border-light);
    }

    &-l {
        border-left: 1px solid var(--border-light);
    }

    &-light {
        border-color: var(--border-light);
    }

    &-medium {
        border-color: var(--border-medium);
    }

    &-strong {
        border-color: var(--border-strong);
    }

    &-primary {
        border-color: var(--primary);
    }

    &-success {
        border-color: var(--success);
    }

    &-warning {
        border-color: var(--warning);
    }

    &-danger {
        border-color: var(--danger);
    }
}

// Border radius
.rounded {
    border-radius: var(--radius-md);

    &-none {
        border-radius: 0;
    }

    &-sm {
        border-radius: var(--radius-sm);
    }

    &-lg {
        border-radius: var(--radius-lg);
    }

    &-xl {
        border-radius: var(--radius-xl);
    }

    &-2xl {
        border-radius: var(--radius-2xl);
    }

    &-full {
        border-radius: var(--radius-full);
    }
}

// ============================================
// BACKGROUND UTILITIES
// ============================================
.bg {
    &-body {
        background-color: var(--bg-body);
    }

    &-surface {
        background-color: var(--bg-surface);
    }

    &-elevated {
        background-color: var(--bg-elevated);
    }

    &-hover {
        background-color: var(--bg-hover);
    }

    &-primary {
        background-color: var(--primary);
        color: white;
    }

    &-secondary {
        background-color: var(--secondary);
        color: white;
    }

    &-success {
        background-color: var(--success);
        color: white;
    }

    &-warning {
        background-color: var(--warning);
        color: white;
    }

    &-danger {
        background-color: var(--danger);
        color: white;
    }

    &-info {
        background-color: var(--info);
        color: white;
    }

    &-transparent {
        background-color: transparent;
    }
}

// ============================================
// SHADOW UTILITIES
// ============================================
.shadow {
    &-sm {
        box-shadow: $shadow-sm;
    }

    &-md {
        box-shadow: $shadow-md;
    }

    &-lg {
        box-shadow: $shadow-lg;
    }

    &-xl {
        box-shadow: $shadow-xl;
    }

    &-2xl {
        box-shadow: $shadow-2xl;
    }

    &-none {
        box-shadow: none;
    }
}

// ============================================
// OVERFLOW UTILITIES
// ============================================
.overflow {
    &-auto {
        overflow: auto;
    }

    &-hidden {
        overflow: hidden;
    }

    &-visible {
        overflow: visible;
    }

    &-scroll {
        overflow: scroll;
    }

    &-x-auto {
        overflow-x: auto;
    }

    &-y-auto {
        overflow-y: auto;
    }

    &-x-hidden {
        overflow-x: hidden;
    }

    &-y-hidden {
        overflow-y: hidden;
    }
}

// ============================================
// VISIBILITY UTILITIES
// ============================================
.visible {
    visibility: visible;
}

.invisible {
    visibility: hidden;
}

.opacity {
    &-0 {
        opacity: 0;
    }

    &-25 {
        opacity: 0.25;
    }

    &-50 {
        opacity: 0.5;
    }

    &-75 {
        opacity: 0.75;
    }

    &-100 {
        opacity: 1;
    }
}

// ============================================
// CURSOR UTILITIES
// ============================================
.cursor {
    &-auto {
        cursor: auto;
    }

    &-pointer {
        cursor: pointer;
    }

    &-not-allowed {
        cursor: not-allowed;
    }

    &-wait {
        cursor: wait;
    }

    &-move {
        cursor: move;
    }

    &-text {
        cursor: text;
    }
}

// ============================================
// Z-INDEX UTILITIES
// ============================================
.z {
    &-0 {
        z-index: 0;
    }

    &-10 {
        z-index: 10;
    }

    &-20 {
        z-index: 20;
    }

    &-30 {
        z-index: 30;
    }

    &-40 {
        z-index: 40;
    }

    &-50 {
        z-index: 50;
    }

    &-auto {
        z-index: auto;
    }
}

// ============================================
// TRANSITION UTILITIES
// ============================================
.transition {
    &-fast {
        transition: all var(--transition-fast);
    }

    &-base {
        transition: all var(--transition-base);
    }

    &-slow {
        transition: all var(--transition-slow);
    }

    &-none {
        transition: none;
    }
}

// ============================================
// USER SELECT UTILITIES
// ============================================
.select {
    &-none {
        user-select: none;
    }

    &-text {
        user-select: text;
    }

    &-all {
        user-select: all;
    }

    &-auto {
        user-select: auto;
    }
}

// ============================================
// POINTER EVENTS UTILITIES
// ============================================
.pointer-events {
    &-none {
        pointer-events: none;
    }

    &-auto {
        pointer-events: auto;
    }
}

// ============================================
// RESPONSIVE UTILITIES
// ============================================
@media (max-width: $breakpoint-sm) {
    .sm\:hidden {
        display: none;
    }
}

@media (max-width: $breakpoint-md) {
    .md\:hidden {
        display: none;
    }
}

@media (max-width: $breakpoint-lg) {
    .lg\:hidden {
        display: none;
    }
}

@media (max-width: $breakpoint-xl) {
    .xl\:hidden {
        display: none;
    }
}

// ============================================
// PRINT UTILITIES
// ============================================
@media print {
    .print\:hidden {
        display: none;
    }
}

// ============================================
// CONTAINER
// ============================================
.container {
    width: 100%;
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--spacing-md);
    padding-right: var(--spacing-md);

    @media (min-width: $breakpoint-sm) {
        max-width: $container-sm;
    }

    @media (min-width: $breakpoint-md) {
        max-width: $container-md;
    }

    @media (min-width: $breakpoint-lg) {
        max-width: $container-lg;
    }

    @media (min-width: $breakpoint-xl) {
        max-width: $container-xl;
    }

    @media (min-width: $breakpoint-2xl) {
        max-width: $container-2xl;
    }

    &-fluid {
        max-width: 100%;
    }
}

// ============================================
// GRID SYSTEM
// ============================================
.row {
    display: flex;
    flex-wrap: wrap;
    margin-left: calc(#{$grid-gutter} / -2);
    margin-right: calc(#{$grid-gutter} / -2);
}

.col {
    flex: 1 0 0%;
    padding-left: calc(#{$grid-gutter} / 2);
    padding-right: calc(#{$grid-gutter} / 2);
}

@for $i from 1 through $grid-columns {
    .col-#{$i} {
        flex: 0 0 auto;
        width: math.percentage(math.div($i, $grid-columns));
        padding-left: calc(#{$grid-gutter} / 2);
        padding-right: calc(#{$grid-gutter} / 2);
    }
}
